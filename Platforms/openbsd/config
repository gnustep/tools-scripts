#!/bin/sh

echo "BUIDLING WITH CLANG and ARC"

export GSMAKE_CC=clang
export GSMAKE_CXX=clang++
export GSMAKE_CPP="clang -E"
export GSMAKE_LD=ld
export GSMAKE_AS=llvm-as
export EXTRA_GSMAKE_FLAGS="--with-objc-lib-flag=-lobjc2 --enable-strict-v2-mode --with-runtime-abi=gnustep-2.2 --with-library-combo=ng-gnu-gnu GS_WITH_ARC=1"
export GSMAKE_CPPFLAGS="-I/usr/local/include -I/usr/local/include/gnustep"
export GSMAKE_LDFLAGS="-L/usr/local/lib -lc++abi -lobjc2 -pthread"
export MAKE=gmake
export SUDO=sudo

export CPUS=`sysctl hw.ncpu | sed 's/hw.ncpu\=//g'`
export ROOT=/ 
export USR_ROOT=${ROOT}usr
export GNUSTEP_ROOT=${USR_ROOT}/GNUstep
export GNUSTEP_CONFIG_FILE=/etc/GNUstep/GNUstep.conf
export GNUSTEP_INSTALL_LD_SO_CONF=no
export PREFIX=${GNUSTEP_ROOT}

echo ""
echo "Installation directory is $GNUSTEP_ROOT"
echo "Building GNUstep for OpenBSD"
echo ""

SUDO='sudo LD_LIBRARY_PATH=$LD_LIBRARY_PATH'
